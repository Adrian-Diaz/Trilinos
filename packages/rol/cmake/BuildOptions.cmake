INCLUDE(BuildOptionFunctions)

# Set default options
IF( ${${PACKAGE_NAME}_ENABLE_TEUCHOS_PARAMETERLIST} )
  SET( ${PACKAGE_NAME}_ENABLE_BOOST_PROPERTY_TREE OFF )
ENDIF()

IF( NOT DEFINED ${PACKAGE_NAME}_ENABLE_BOOST_PROPERTY_TREE ) 
  SET( ${PACKAGE_NAME}_ENABLE_TEUCHOS_PARAMETERLIST ON )
ENDIF()

IF( NOT ${${PACKAGE_NAME}_ENABLE_BOOST_PROPERTY_TREE} ) 
  SET( ${PACKAGE_NAME}_ENABLE_TEUCHOS_PARAMETERLIST ON )
ENDIF()


IF( ${${PACKAGE_NAME}_ENABLE_TEUCHOS_RCP} )
  SET( ${PACKAGE_NAME}_ENABLE_STD_SHARED_PTR OFF )
ENDIF()

IF( NOT DEFINED ${PACKAGE_NAME}_ENABLE_STD_SHARED_PTR )
  SET( ${PACKAGE_NAME}_ENABLE_TEUCHOS_RCP ON )
ENDIF()

IF( NOT ${${PACKAGE_NAME}_ENABLE_STD_SHARED_PTR} )
  SET( ${PACKAGE_NAME}_ENABLE_TEUCHOS_RCP ON )
ENDIF()

# If Teuchos option is enabled, disable alternative option

SET( ${PACKAGE_NAME}_ENABLE_TEUCHOS_PARAMETERLIST 
     ${${PACKAGE_NAME}_ENABLE_TEUCHOS_PARAMETERLIST} PARENT_SCOPE )

SET( ${PACKAGE_NAME}_ENABLE_BOOST_PROPERTY_TREE 
     ${${PACKAGE_NAME}_ENABLE_BOOST_PROPERTY_TREE} PARENT_SCOPE )

SET( ${PACKAGE_NAME}_ENABLE_TEUCHOS_RCP
     ${${PACKAGE_NAME}_ENABLE_TEUCHOS_RCP} PARENT_SCOPE )

SET( ${PACKAGE_NAME}_ENABLE_STD_SHARED_PTR 
     ${${PACKAGE_NAME}_ENABLE_STD_SHARED_PTR} PARENT_SCOPE )


SET_PROPERTY( GLOBAL PROPERTY ROL_TEUCHOS_PARAMETERLIST "Teuchos::ParameterList" )
SET_PROPERTY( GLOBAL PROPERTY ROL_TEUCHOS_RCP           "Teuchos::RCP"           )
SET_PROPERTY( GLOBAL PROPERTY ROL_BOOST_PROPERTY_TREE   "boost::property_tree"   )
SET_PROPERTY( GLOBAL PROPERTY ROL_STD_SHARED_PTR        "std::shared_ptr"        )

# Compatibility Directory 
SET( DIR ${${PACKAGE_NAME}_SOURCE_DIR}/src/compatibility )

# Override if specified
IF( ${PACKAGE_NAME}_ENABLE_STD_SHARED_PTR ) 
  SET_PROPERTY( GLOBAL PROPERTY ROL_PTR     "std::shared_ptr"       )
  SET_PROPERTY( GLOBAL PROPERTY ROL_PTR_DIR "${DIR}/std/shared_ptr" )
ELSE()
  SET_PROPERTY( GLOBAL PROPERTY ROL_PTR     "Teuchos::RCP"       )
  SET_PROPERTY( GLOBAL PROPERTY ROL_PTR_DIR "${DIR}/teuchos/rcp" )
ENDIF()

IF( ${PACKAGE_NAME}_ENABLE_BOOST_PROPERTY_TREE ) 
  SET_PROPERTY( GLOBAL PROPERTY ROL_PARAMETERLIST     "boost::property_tree"       )
  SET_PROPERTY( GLOBAL PROPERTY ROL_PARAMETERLIST_DIR "${DIR}/boost/property_tree" )
ELSE()
  SET_PROPERTY( GLOBAL PROPERTY ROL_PARAMETERLIST     "Teuchos::ParameterList"       )
  SET_PROPERTY( GLOBAL PROPERTY ROL_PARAMETERLIST_DIR "${DIR}/teuchos/parameterlist" )
ENDIF()



